<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<style type="text/css">
		#result {
			background: #eee;
			width: 200px;
			height: 200px;
			overflow: auto;
		}
	</style>
</head>
<body>
	<div id="result">
		
	</div>
	<button onclick="game('sicssors')">剪刀</button>
	<button onclick="game('rock')">石头</button>
	<button onclick="game('paper')">布</button>
	<script type="text/javascript">
		function launchRequest(action,callback){
			var xhr = new XMLHttpRequest();
			xhr.open("get",`http://localhost:3000/game?action=${action}`);
			xhr.onreadystatechange = function(){
				if(xhr.readyState ===4) {
					console.log(xhr.responseText);
					callback(xhr.responseText);
				}
			}
				xhr.send(null);
		}
		var resultBox = document.getElementById("result");
		var callback = function(text){
			resultBox.innerHTML += text + '<br/>';
		}
		function game(action) {
			launchRequest(action, callback);
		}
	</script>
</body>
</html>